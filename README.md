# üñ•Ô∏è –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

## üìå –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ

–ù–µ–æ–±—Ö–æ–¥–∏–º–æ –Ω–∞–ø–∏—Å–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ —è–∑—ã–∫–∞—Ö –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è **Go –∏ JavaScript (TS)**, –∫–æ—Ç–æ—Ä–æ–µ –ø–æ–ª—É—á–∞–µ—Ç **IP-–∞–¥—Ä–µ—Å–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ Docker, –ø–∏–Ω–≥—É–µ—Ç –∏—Ö —Å –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–º –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–º –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö**.

–ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –æ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –¥–æ—Å—Ç—É–ø–Ω–æ –Ω–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ —Ñ–æ—Ä–º–∏—Ä—É–µ–º–æ–π –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü–µ.

### **–°–µ—Ä–≤–∏—Å—ã**

–í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞–Ω–∏—è –¥–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è **4 —Å–µ—Ä–≤–∏—Å–∞**:

1. **Backend-—Å–µ—Ä–≤–∏—Å** ‚Äî RESTful API –¥–ª—è –∑–∞–ø—Ä–æ—Å–∞ –¥–∞–Ω–Ω—ã—Ö –∏–∑ –±–∞–∑—ã –∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö.
2. **Frontend-—Å–µ—Ä–≤–∏—Å** ‚Äî –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–∞ JavaScript (React+Vite+TS) –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤.
3. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö PostgreSQL** ‚Äî —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∞–Ω–Ω—ã—Ö –æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö.
4. **–°–µ—Ä–≤–∏—Å Pinger** ‚Äî –ø–æ–ª—É—á–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤, –ø–∏–Ω–≥—É–µ—Ç –∏—Ö –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã.

**–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ **Nginx** –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –ø—Ä–æ–∫—Å–∏.
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å **—Ä–∞–±–æ—Ç—ã —á–µ—Ä–µ–∑ —Å–µ—Ä–≤–∏—Å –æ—á–µ—Ä–µ–¥–µ–π (RabbitMQ)**.
- –ò–∑–æ–ª—è—Ü–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤ —á–µ—Ä–µ–∑ **Docker Compose** –∏ `netns` (–∏–∑–æ–ª—è—Ü–∏—è —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –ª–∏—à—å —á–µ—Ä–µ–∑ Docker).

### **–†–µ–∑—É–ª—å—Ç–∞—Ç**
- –°–æ–∑–¥–∞–Ω—ã **Dockerfile** –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ –∏ –æ–±—â–∏–π **docker-compose.yml**.
- –ü–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏ –º–æ–∂–Ω–æ –∑–∞–π—Ç–∏ —á–µ—Ä–µ–∑ `http://localhost` –∏ —É–≤–∏–¥–µ—Ç—å —Ç–∞–±–ª–∏—Ü—É —Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏.
- –ü—Ä–æ–µ–∫—Ç –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω –Ω–∞ **GitHub** —Å `README.md`, –æ–ø–∏—Å—ã–≤–∞—é—â–∏–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –∏ —à–∞–≥–∏ –∑–∞–ø—É—Å–∫–∞.

---

## **üìå –ê–Ω–∞–ª–∏–∑ –¢–ó**

1. **–ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ä—É—á–µ–∫ –Ω–∞ Backend –Ω–µ—Ç** (—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –¥–≤–µ: –ø–æ–ª—É—á–µ–Ω–∏–µ –∏ —É–¥–∞–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö).
2. **–¢—Ä–µ–±–æ–≤–∞–Ω–∏–π –ø–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –Ω–µ—Ç** (–±–∞–∑–æ–≤–∞—è Swagger-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç).
3. **–í—Ä–µ–º—è –ø–∏–Ω–≥–∞** ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **–¥–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–π –ø—Ä–æ–≤–µ—Ä–∫–∏** –∏ —Å—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.
4. **–ù–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é ORM** (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **GORM**).
5. **–ö–∞–∫–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å ‚Äî –Ω–µ —É–∫–∞–∑–∞–Ω–æ.**
   - **–†–µ—à–µ–Ω–∏–µ:** –ü–æ–ª—É—á–∞–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∏–∑ **—Ç–æ–π –∂–µ —Å–µ—Ç–∏ Docker Compose**, —Ç.–∫. –¥–æ—Å—Ç—É–ø –∫ –≤–Ω–µ—à–Ω–∏–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω—ã–º.
6. **–ù–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –ø–æ RabbitMQ –∏ Nginx** ‚Äî —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –Ω–∞ —Å–≤–æ—ë —É—Å–º–æ—Ç—Ä–µ–Ω–∏–µ.
7. **–í –¢–ó —É–∫–∞–∑–∞–Ω REST-–∑–∞–ø—Ä–æ—Å –æ—Ç `pinger` –∫ `backend`**.
   - –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã **–æ–±–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞ –æ–±—â–µ–Ω–∏—è**:
     - **REST API** (–ø—Ä—è–º—ã–µ HTTP-–∑–∞–ø—Ä–æ—Å—ã).
     - **RabbitMQ** (–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ—á–µ—Ä–µ–¥—å —Å–æ–æ–±—â–µ–Ω–∏–π).

---

## **üìå –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫**

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç    | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ |
|-------------|------------|
| **Frontend** | React, Vite, TypeScript |
| **Backend**  | Go, GORM, Gin, PostgreSQL |
| **Pinger**   | Go, Docker API, RabbitMQ |
| **–û—á–µ—Ä–µ–¥–∏**  | RabbitMQ |
| **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö** | PostgreSQL |
| **–ü—Ä–æ—á–µ–µ**   | Docker, Docker Compose, Nginx, Git, GitHub |

---

## **üìå –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª**

- –í–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å **—Ç–∞–±–ª–∏—Ü–µ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤** (IP-–∞–¥—Ä–µ—Å, —Å—Ç–∞—Ç—É—Å, –¥–∞—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏).
- `pinger` –ø–æ–ª—É—á–∞–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã —á–µ—Ä–µ–∑ **Docker API (`/var/run/docker.sock`)**.
- –î–∞–Ω–Ω—ã–µ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è **–ª–∏–±–æ –≤ RabbitMQ, –ª–∏–±–æ –≤ REST API backend**.
- `backend` —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ **PostgreSQL**.
- `frontend` –ø–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ **REST API** –∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.
- `nginx` –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Ä–æ–ª—å **–æ–±—Ä–∞—Ç–Ω–æ–≥–æ –ø—Ä–æ–∫—Å–∏** –º–µ–∂–¥—É `frontend` –∏ `backend`.

---

## **üìå –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤**

| –°–µ—Ä–≤–∏—Å | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|----------|
| **Backend** | –ü–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –æ—Ç `pinger`, —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ –ë–î, –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–∞ `frontend`. |
| **Frontend** | –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ `backend`, –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Ç–∞–±–ª–∏—Ü—É –≤ –±—Ä–∞—É–∑–µ—Ä–µ. |
| **Pinger** | –ü–æ–ª—É—á–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤, –ø–∏–Ω–≥—É–µ—Ç –∏—Ö –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–∞ `backend` (—á–µ—Ä–µ–∑ REST –∏–ª–∏ RabbitMQ). |
| **Database** | PostgreSQL ‚Äî —Ö—Ä–∞–Ω–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö. |
| **Nginx** | –û–±—Ä–∞—Ç–Ω—ã–π –ø—Ä–æ–∫—Å–∏ ‚Äî –º–∞—Ä—à—Ä—É—Ç–∏–∑–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏. |
| **RabbitMQ** | –°–µ—Ä–≤–∏—Å –æ—á–µ—Ä–µ–¥–µ–π –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö. |

---

## **üìå –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ**

### **1Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–≤–æ–±–æ–¥–Ω—ã—Ö –ø–æ—Ä—Ç–æ–≤**
–ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ—Ä—Ç—ã **80, 8080, 5672, 15672, 5432** —Å–≤–æ–±–æ–¥–Ω—ã.
```sh
sudo netstat -tulnp | grep -E ':80|:8080|:5672|:15672|:5432'
```

### **2Ô∏è‚É£ –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è**
```sh
git clone git@github.com:Leganyst/vk_test.git
cd vk_test
```

### **3Ô∏è‚É£ –í—ã–±–æ—Ä —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏**
```sh
git checkout main  # –ë–µ–∑ RabbitMQ
git checkout dev/rabbitmq  # –° RabbitMQ
```

### **4Ô∏è‚É£ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ `.env`**
–°–æ–∑–¥–∞–π—Ç–µ `.env` —Ñ–∞–π–ª –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (–ø—Ä–∏–º–µ—Ä):
```env
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_DB=containers
POSTGRES_ADDRESS=database
POSTGRES_PORT=5432

BACKEND_URL=http://backend:8080

RABBITMQ_URL=amqp://guest:guest@rabbitmq:5672/
RABBITMQ_DEFAULT_USER=quest
RABBITMQ_DEFAULT_PASS=guest
```

### **5Ô∏è‚É£ –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤**
```sh
docker-compose up -d --build
```
–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –æ—Ç–∫—Ä–æ–π:
- **Frontend**: `http://localhost`
- **Backend API**: `http://localhost:8080/api/`
- **RabbitMQ UI**: `http://localhost:15672` (–ª–æ–≥–∏–Ω: `guest`, –ø–∞—Ä–æ–ª—å: `guest`)

### **6Ô∏è‚É£ –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤**
```sh
docker-compose down -v
```

